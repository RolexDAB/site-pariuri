// Translation system for SportsTips Pro
const translations = {
    en: {
        // Navigation
        navBrand: "âš½ SportsTips Pro",
        navHome: "Home",
        navTips: "Today's Tips", 
        navLeagues: "Leagues",
        navStats: "Statistics",
        navAbout: "About",
        navContact: "Contact",
        
        // Page Title and Meta
        pageTitle: "Pro Sports Tips - Expert Football Betting Predictions & Analysis",
        pageDescription: "Get expert football betting tips, predictions, and analysis. Increase your winning chances with our professional sports tipsters and daily predictions.",
        
        // Hero section
        heroTitle: "Expert Football Betting Tips",
        heroDescription: "Get professional football predictions and analysis from our expert tipsters. Increase your winning chances with our daily tips and comprehensive statistics.",
        heroWinRate: "Win Rate",
        heroClients: "Happy Clients",
        heroExperience: "Years Experience",
        heroViewTips: "View Today's Tips",
        heroTrackRecord: "Our Track Record",
        // Trust strip
        trustStripVerifiedTips: "Verified tips",
        trustStripTransparent: "Transparent stats",
        trustStripResponsible: "18+ Responsible gambling",
        
        // Tips section
        tipsTitle: "Today's Football Tips",
        tipsConfidence: "Confidence",
        tipsExpert: "Expert",
        tipsLive: " LIVE",
        tipsUpcoming: " UPCOMING",
        tipsWinning: " WINNING",
        tipsLosing: " LOSING",
        tipsDisclaimer: "Betting involves risk. Please gamble responsibly and only bet what you can afford to lose. These tips are for entertainment purposes and do not guarantee winning outcomes.",
        tipsAvailable: "Tips Available",
        tipsAvgConfidence: "Avg Confidence", 
        tipsAvgOdds: "Avg Odds",
        subscribeToSee: "Subscribe to See Tips",
        subscribeDesc: "Get access to expert analysis and winning predictions",
        subscribeNow: "Subscribe Now",
        subscriptionBenefits: "What You Get With Subscription",
        benefitExpertTips: "Expert Tips & Analysis",
        benefitStatistics: "Detailed Statistics",
        benefitLiveUpdates: "Live Updates",
        benefitHighWinRate: "85%+ Win Rate",
        // Tips toolbar
        chipAll: "All",
        chipHighConfidence: "High Confidence",
        chipValueBets: "Value Bets",
        chipLive: "Live",
        chipUpcoming: "Upcoming",
        sortBy: "Sort by",
        sortConfidence: "Confidence",
        sortOdds: "Odds",
        sortTime: "Kickoff time",
        tagValue: "Value",
        subscribeTrial: "Start 3â€‘day trial",
        ctaCopyBetslip: "Copy betslip",
        trialNote: "Cancel anytime. See full track record inside.",
        membersOnly: "Members-only",
        teaserText: "Full analysis and exact pick available to members.",
        
        // Leagues section
        leaguesTitle: "Leagues We Cover",
        leaguesDescription: "We provide expert analysis and betting tips for the top football leagues across Europe.",
        
        // Stats section
        statsTitle: "Our Track Record",
        statsOverallWinRate: "Overall Win Rate",
        statsSuccessfulTips: "Successful Tips",
        statsProfitMargin: "Profit Margin",
        statsHighConfidence: "High Confidence Accuracy",
        statsLast30Days: "Last 30 days",
        statsThisMonth: "This month",
        stats6MonthsROI: "6 months ROI",
        statsTipsOver80: "Tips over 80%",
        statsMonthlyPerformance: "Monthly Performance",
        // History table
        historyTitle: "Recent Results",
        historyDate: "Date",
        historyMatch: "Match",
        historyBet: "Bet",
        historyOdds: "Odds",
        historyResult: "Result",
        historyWin: "WIN",
        historyLoss: "LOSS",
        historyPush: "PUSH",
        historyCaption: "Latest published tips and outcomes",
        scoresTickerAria: "Live scores ticker",
        // Team names (demo mapping)
        teamManUnited: "Manchester United",
        teamLiverpool: "Liverpool",
        teamBarcelona: "Barcelona",
        teamRealMadrid: "Real Madrid",
        teamPSG: "PSG",
        teamMarseille: "Marseille",
        
        // Common text
        versus: "vs",
        timeGMT: "GMT",
        evLabel: "EV",
        verifiedLabel: "Verified",
        
        // Markets
        marketOver25Goals: "Over 2.5 Goals",
        marketBTTS: "Both Teams To Score",
        marketHomeWin: "Home Win",
        
        // Sample content
        sampleAnalysis: "Strong attacking form and defensive vulnerabilities on both sides. Market drifting slightly in our favor.",
        
        // Testimonials
        testimonial1: "\"Clear analysis and realistic odds. Consistent results over the last months.\"",
        testimonial2: "\"I like the transparency. The stats match the actual tips history.\"",
        testimonial3: "\"Responsible approach and good bankroll tips. Feels professional.\"",
        
        // Methodology titles
        methodologyModelTitle: "Model",
        methodologyReviewTitle: "Review",
        methodologyStakingTitle: "Staking",
        methodologyTransparencyTitle: "Transparency",
        
        // Months
        monthJan: "Jan",
        monthFeb: "Feb",
        monthMar: "Mar",
        monthApr: "Apr",
        monthMay: "May",
        monthJun: "Jun",

        // Testimonials & Methodology
        testimonialsTitle: "What bettors say",
        methodologyTitle: "How our predictions work",
        methodologyPoint1: "Probabilistic models combining form, injuries, xG and market movement.",
        methodologyPoint2: "Human validation by league specialists before publishing.",
        methodologyPoint3: "Bankroll-friendly staking and clear confidence levels.",
        methodologyPoint4: "Results logged and visible in monthly performance.",
        
        // About section
        aboutTitle: "About SportsTips Pro",
        aboutDescription: "SportsTips Pro is your trusted source for professional football betting predictions and analysis. Our team of expert tipsters combines years of experience with advanced statistical analysis to deliver high-quality betting tips that give you the edge you need.",
        aboutExpertAnalysis: "ðŸ† Expert Analysis",
        aboutStatisticalModels: "ðŸ“Š Statistical Models",
        aboutFootballSpecialists: "âš½ Football Specialists", 
        aboutProvenROI: "ðŸ’° Proven ROI",
        aboutOurTeam: "Our Expert Team",
        aboutLeadAnalyst: "Lead Analyst",
        aboutLaLigaSpecialist: "La Liga Specialist",
        aboutLigue1Expert: "Ligue 1 Expert",
        aboutYearsExperience: "years experience",
        
        // Contact section
        contactTitle: "Join Our VIP Community",
        contactIntro: "Ready to start winning? Get access to our premium tips and join thousands of successful bettors.",
        contactEmailSub: "Email Subscription",
        contactEmailDesc: "Get daily tips delivered to your inbox",
        contactEmailPlaceholder: "Enter your email",
        contactSubscribe: "Subscribe",
        contactTelegram: "Telegram Channel",
        contactTelegramDesc: "Instant notifications for live tips and updates",
        contactJoinTelegram: "Join Telegram",
        contactVIP: "VIP Package",
        contactVIPDesc: "Premium analysis and exclusive high-value tips",
        contactGetVIP: "Get VIP Access",
        contactTeamTitle: "Contact Our Team",
        contactName: "Name",
        contactEmail: "Email",
        contactSubject: "Subject",
        contactMessage: "Message",
        contactSelectTopic: "Select a topic",
        contactGeneralInquiry: "General Inquiry",
        contactVIPMembership: "VIP Membership",
        contactFeedback: "Feedback",
        contactPartnership: "Partnership",
        contactSendMessage: "Send Message",
        
        // Footer
        footerTagline: "Your trusted partner for football betting success.",
        footerQuickLinks: "Quick Links",
        footerResponsibleGaming: "Responsible Gaming",
        footerGamblingGuidelines: "Gambling Guidelines",
        footerRiskManagement: "Risk Management",
        footerSelfExclusion: "Self-Exclusion",
        footerSupportResources: "Support Resources",
        footerRights: "All rights reserved.",
        footerAgeRestriction: "18+ Only",
        footerGambleResponsibly: "Gamble Responsibly",
        footerDisclaimerText: "Betting carries financial risk and may be addictive. Please bet responsibly.",
        footerPrivacy: "Privacy Policy",
        footerTerms: "Terms",

        // Cookies
        cookieTitle: "We care about your privacy",
        cookieText: "We use cookies to improve the site and remember your settings. We never sell your data.",
        cookieLearnMore: "Learn more",
        cookieAccept: "Accept",
        
        // Notifications
        notifWelcome: "ðŸŽ‰ Welcome to SportsTips Pro! You'll receive our daily tips in your inbox.",
        notifContactSuccess: "âš½ Thank you! Our expert team will get back to you within 24 hours.",
        notifVIPComingSoon: "ðŸ† VIP membership includes exclusive tips, detailed analysis, and priority support. Coming soon!",
        notifTelegramComingSoon: "ðŸ’¬ Our Telegram channel will provide instant notifications for live tips and breaking news. Subscribe to our email for launch updates!",
        notifGamblingReminder: "âš ï¸ Remember: Only bet what you can afford to lose. Gambling should be fun, not stressful.",
        notifFillAllFields: "Please fill in all fields.",
        notifValidEmail: "Please enter a valid email address.",
        
        // Leagues
        leaguePremierLeague: "Premier League",
        leagueLaLiga: "La Liga", 
        leagueBundesliga: "Bundesliga",
        leaguePrimeiraLiga: "Primeira Liga",
        leagueLigue1: "Ligue 1",
        leagueSuperLig: "SÃ¼per Lig",
        leagueSerieA: "Serie A",
        
        // Countries
        countryEngland: "England",
        countrySpain: "Spain",
        countryGermany: "Germany", 
        countryPortugal: "Portugal",
        countryFrance: "France",
        countryTurkey: "Turkey",
        countryItaly: "Italy"
    },
    
    ro: {
        // Navigation
        navBrand: "âš½ SportsTips Pro",
        navHome: "AcasÄƒ",
        navTips: "Ponturi AstÄƒzi",
        navLeagues: "Ligi", 
        navStats: "Statistici",
        navAbout: "Despre Noi",
        navContact: "Contact",
        
        // Page Title and Meta
        pageTitle: "Pro Ponturi Sport - PredicÈ›ii Expert Fotbal & Analize",
        pageDescription: "ObÈ›ine ponturi expert fotbal, predicÈ›ii È™i analize. CreÈ™te-È›i È™ansele de cÃ¢È™tig cu tipsterii noÈ™tri profesioniÈ™ti È™i predicÈ›ii zilnice.",
        
        // Hero section
        heroTitle: "Ponturi Expert pentru Pariuri Fotbal",
        heroDescription: "ObÈ›ine predicÈ›ii È™i analize profesionale de fotbal de la tipsterii noÈ™tri experÈ›i. CreÈ™te-È›i È™ansele de cÃ¢È™tig cu ponturi zilnice È™i statistici complete.",
        heroWinRate: "Rata de CÃ¢È™tig",
        heroClients: "ClienÈ›i MulÈ›umiÈ›i",
        heroExperience: "Ani ExperienÈ›Äƒ",
        heroViewTips: "Vezi Ponturi AstÄƒzi",
        heroTrackRecord: "Rezultatele Noastre",
        // Trust strip
        trustStripVerifiedTips: "Ponturi verificate",
        trustStripTransparent: "Statistici transparente",
        trustStripResponsible: "18+ Pariuri responsabile",
        
        // Tips section
        tipsTitle: "Ponturi Fotbal AstÄƒzi",
        tipsConfidence: "ÃŽncredere",
        tipsExpert: "Expert",
        tipsLive: "LIVE",
        tipsUpcoming: "VIITOR",
        tipsWinning: "CÃ‚È˜TIGÄ‚TOR",
        tipsLosing: "PERDENT",
        tipsDisclaimer: "Pariurile implicÄƒ riscuri. Te rugÄƒm sÄƒ pariezi responsabil È™i sÄƒ pariezi doar ceea ce Ã®È›i permiÈ›i sÄƒ pierzi. Aceste ponturi sunt pentru divertisment È™i nu garanteazÄƒ rezultate cÃ¢È™tigÄƒtoare.",
        tipsAvailable: "Ponturi Disponibile",
        tipsAvgConfidence: "ÃŽncredere Medie",
        tipsAvgOdds: "Cote Medii",
        subscribeToSee: "Abonare pentru Ponturi",
        subscribeDesc: "Acces la analize expert È™i predicÈ›ii",
        subscribeNow: "Abonare",
        subscriptionBenefits: "Ce PrimeÈ™ti cu Abonamentul",
        benefitExpertTips: "Ponturi Expert & Analize",
        benefitStatistics: "Statistici Detaliate",
        benefitLiveUpdates: "ActualizÄƒri Live",
        benefitHighWinRate: "85%+ RatÄƒ de CÃ¢È™tig",
        // Tips toolbar
        chipAll: "Toate",
        chipHighConfidence: "ÃŽncredere mare",
        chipValueBets: "Valoare",
        chipLive: "Live",
        chipUpcoming: "UrmeazÄƒ",
        sortBy: "SorteazÄƒ dupÄƒ",
        sortConfidence: "ÃŽncredere",
        sortOdds: "Cote",
        sortTime: "Ora de start",
        tagValue: "Valoare",
        subscribeTrial: "ÃŽncepe testul de 3 zile",
        ctaCopyBetslip: "CopiazÄƒ biletul",
        trialNote: "PoÈ›i anula oricÃ¢nd. Vezi istoricul complet Ã®n interior.",
        membersOnly: "Doar pentru membri",
        teaserText: "Analiza completÄƒ È™i pontul exact sunt disponibile membrilor.",
        
        // Leagues section
        leaguesTitle: "Ligile pe care le Acoperim",
        leaguesDescription: "Oferim analize experte È™i ponturi pentru cele mai importante ligi de fotbal din Europa.",
        
        // Stats section
        statsTitle: "Rezultatele Noastre",
        statsOverallWinRate: "Rata GeneralÄƒ de CÃ¢È™tig",
        statsSuccessfulTips: "Ponturi de Succes",
        statsProfitMargin: "Marja de Profit",
        statsHighConfidence: "AcurateÈ›ea ÃŽncrederii Mari",
        statsLast30Days: "Ultimele 30 zile",
        statsThisMonth: "Luna aceasta",
        stats6MonthsROI: "ROI 6 luni",
        statsTipsOver80: "Ponturi peste 80%",
        statsMonthlyPerformance: "PerformanÈ›a LunarÄƒ",
        // History table
        historyTitle: "Rezultate recente",
        historyDate: "Data",
        historyMatch: "Meci",
        historyBet: "Pariu",
        historyOdds: "Cote",
        historyResult: "Rezultat",
        historyWin: "CÃ‚È˜TIG",
        historyLoss: "PIERDERE",
        historyPush: "RETURNAT",
        historyCaption: "Ultimele ponturi publicate È™i rezultate",
        scoresTickerAria: "Ticker scoruri live",
        // Team names (demo mapping)
        teamManUnited: "Manchester United",
        teamLiverpool: "Liverpool",
        teamBarcelona: "Barcelona",
        teamRealMadrid: "Real Madrid",
        teamPSG: "PSG",
        teamMarseille: "Marseille",
        
        // Common text
        versus: "vs",
        timeGMT: "GMT",
        evLabel: "EV",
        verifiedLabel: "Verificat",
        
        // Markets
        marketOver25Goals: "Peste 2.5 Goluri",
        marketBTTS: "Ambele Echipe MarcheazÄƒ",
        marketHomeWin: "Victorie GazdÄƒ",
        
        // Sample content
        sampleAnalysis: "Forma de atac puternicÄƒ È™i vulnerabilitÄƒÈ›i defensive la ambele pÄƒrÈ›i. PiaÈ›a se deplaseazÄƒ uÈ™or Ã®n favoarea noastrÄƒ.",
        
        // Testimonials
        testimonial1: "\"Analize clare È™i cote realiste. Rezultate constante Ã®n ultimele luni.\"",
        testimonial2: "\"ÃŽmi place transparenÈ›a. Statisticile se potrivesc cu istoricul ponturilor reale.\"",
        testimonial3: "\"Abordare responsabilÄƒ È™i ponturi bune pentru bankroll. Se simte profesional.\"",
        
        // Methodology titles
        methodologyModelTitle: "Model",
        methodologyReviewTitle: "Revizuire",
        methodologyStakingTitle: "Mizare",
        methodologyTransparencyTitle: "TransparenÈ›Äƒ",
        
        // Months
        monthJan: "Ian",
        monthFeb: "Feb",
        monthMar: "Mar",
        monthApr: "Apr",
        monthMay: "Mai",
        monthJun: "Iun",

        // Testimonials & Methodology
        testimonialsTitle: "Ce spun pariorii",
        methodologyTitle: "Cum funcÈ›ioneazÄƒ predicÈ›iile noastre",
        methodologyPoint1: "Modele probabilistice ce combinÄƒ forma, accidentÄƒrile, xG È™i miÈ™carea pieÈ›ei.",
        methodologyPoint2: "Validare umanÄƒ de cÄƒtre specialiÈ™ti pe ligi Ã®nainte de publicare.",
        methodologyPoint3: "Stake prietenos cu bankroll-ul È™i nivele clare de Ã®ncredere.",
        methodologyPoint4: "Rezultatele sunt Ã®nregistrate È™i vizibile Ã®n performanÈ›a lunarÄƒ.",
        
        // About section
        aboutTitle: "Despre SportsTips Pro",
        aboutDescription: "SportsTips Pro este sursa ta de Ã®ncredere pentru predicÈ›ii È™i analize profesionale de pariuri fotbal. Echipa noastrÄƒ de tipster experÈ›i combinÄƒ anii de experienÈ›Äƒ cu analize statistice avansate pentru a oferi ponturi de calitate care Ã®È›i dau avantajul de care ai nevoie.",
        aboutExpertAnalysis: "ðŸ† AnalizÄƒ Expert",
        aboutStatisticalModels: "ðŸ“Š Modele Statistice",
        aboutFootballSpecialists: "âš½ SpecialiÈ™ti Fotbal",
        aboutProvenROI: "ðŸ’° ROI Dovedit",
        aboutOurTeam: "Echipa NoastrÄƒ de ExperÈ›i",
        aboutLeadAnalyst: "Analist Principal",
        aboutLaLigaSpecialist: "Specialist La Liga",
        aboutLigue1Expert: "Expert Ligue 1",
        aboutYearsExperience: "ani experienÈ›Äƒ",
        
        // Contact section
        contactTitle: "AlÄƒturÄƒ-te ComunitÄƒÈ›ii VIP",
        contactIntro: "Gata sÄƒ Ã®ncepi sÄƒ cÃ¢È™tigi? ObÈ›ine acces la ponturi premium È™i alÄƒturÄƒ-te miilor de pariori de succes.",
        contactEmailSub: "Abonament Email",
        contactEmailDesc: "PrimeÈ™te ponturi zilnice direct Ã®n inbox",
        contactEmailPlaceholder: "Introdu emailul tÄƒu",
        contactSubscribe: "AboneazÄƒ-te",
        contactTelegram: "Canal Telegram",
        contactTelegramDesc: "NotificÄƒri instantanee pentru ponturi live È™i actualizÄƒri",
        contactJoinTelegram: "AlÄƒturÄƒ-te pe Telegram",
        contactVIP: "Pachet VIP",
        contactVIPDesc: "Analize premium È™i ponturi exclusive de valoare mare",
        contactGetVIP: "ObÈ›ine Acces VIP",
        contactTeamTitle: "ContacteazÄƒ Echipa NoastrÄƒ",
        contactName: "Nume",
        contactEmail: "Email",
        contactSubject: "Subiect",
        contactMessage: "Mesaj",
        contactSelectTopic: "SelecteazÄƒ un subiect",
        contactGeneralInquiry: "ÃŽntrebare GeneralÄƒ",
        contactVIPMembership: "Membru VIP",
        contactFeedback: "Feedback",
        contactPartnership: "Parteneriat",
        contactSendMessage: "Trimite Mesaj",
        
        // Footer
        footerTagline: "Partenerul tÄƒu de Ã®ncredere pentru succesul la pariuri fotbal.",
        footerQuickLinks: "Link-uri Rapide",
        footerResponsibleGaming: "Joc Responsabil",
        footerGamblingGuidelines: "Ghid Pariuri",
        footerRiskManagement: "Managementul Riscului",
        footerSelfExclusion: "Auto-excludere",
        footerSupportResources: "Resurse Suport",
        footerRights: "Toate drepturile rezervate.",
        footerAgeRestriction: "18+ Doar",
        footerGambleResponsibly: "PariazÄƒ Responsabil",
        footerDisclaimerText: "Pariurile comportÄƒ riscuri financiare È™i pot crea dependenÈ›Äƒ. Te rugÄƒm sÄƒ pariezi responsabil.",
        footerPrivacy: "Politica de ConfidenÈ›ialitate",
        footerTerms: "Termeni",

        // Cookies
        cookieTitle: "ÃŽÈ›i respectÄƒm confidenÈ›ialitatea",
        cookieText: "Folosim cookie-uri pentru a Ã®mbunÄƒtÄƒÈ›i site-ul È™i a reÈ›ine setÄƒrile tale. Nu Ã®È›i vindem niciodatÄƒ datele.",
        cookieLearnMore: "AflÄƒ mai multe",
        cookieAccept: "Accept",
        
        // Notifications
        notifWelcome: "ðŸŽ‰ Bun venit la SportsTips Pro! Vei primi ponturi zilnice Ã®n inbox.",
        notifContactSuccess: "âš½ MulÈ›umim! Echipa noastrÄƒ de experÈ›i te va contacta Ã®n 24 de ore.",
        notifVIPComingSoon: "ðŸ† Calitatea de membru VIP include ponturi exclusive, analize detaliate È™i suport prioritar. ÃŽn curÃ¢nd!",
        notifTelegramComingSoon: "ðŸ’¬ Canalul nostru Telegram va oferi notificÄƒri instantanee pentru ponturi live È™i È™tiri de ultimÄƒ orÄƒ. AboneazÄƒ-te la email pentru actualizÄƒri de lansare!",
        notifGamblingReminder: "âš ï¸ AminteÈ™te-È›i: PariazÄƒ doar ceea ce Ã®È›i permiÈ›i sÄƒ pierzi. Pariurile ar trebui sÄƒ fie distractive, nu stresante.",
        notifFillAllFields: "Te rugÄƒm sÄƒ completezi toate cÃ¢mpurile.",
        notifValidEmail: "Te rugÄƒm sÄƒ introduci o adresÄƒ de email validÄƒ.",
        
        // Leagues
        leaguePremierLeague: "Premier League",
        leagueLaLiga: "La Liga",
        leagueBundesliga: "Bundesliga", 
        leaguePrimeiraLiga: "Primeira Liga",
        leagueLigue1: "Ligue 1",
        leagueSuperLig: "SÃ¼per Lig",
        leagueSerieA: "Serie A",
        
        // Countries
        countryEngland: "Anglia",
        countrySpain: "Spania",
        countryGermany: "Germania",
        countryPortugal: "Portugalia", 
        countryFrance: "FranÈ›a",
        countryTurkey: "Turcia",
        countryItaly: "Italia"
    }
};

// Language management
let currentLanguage = 'en';

function setLanguage(lang) {
    currentLanguage = lang;
    localStorage.setItem('preferred-language', lang);
    updatePageContent();
    updateHtmlLang();
}

function getCurrentLanguage() {
    return currentLanguage;
}

function getTranslation(key) {
    return translations[currentLanguage][key] || translations['en'][key] || key;
}

function updateHtmlLang() {
    document.documentElement.lang = currentLanguage;
}

function updatePageContent() {
    // Update all elements with data-translate attribute
    const elements = document.querySelectorAll('[data-translate]');
    elements.forEach(element => {
        const key = element.getAttribute('data-translate');
        const translation = getTranslation(key);
        
        if (element.tagName === 'INPUT' && element.type === 'text' || element.type === 'email') {
            element.placeholder = translation;
        } else {
            element.textContent = translation;
        }
    });
    
    // Update aria labels from data-aria-translate
    document.querySelectorAll('[data-aria-translate]').forEach(el => {
        const key = el.getAttribute('data-aria-translate');
        const translation = getTranslation(key);
        el.setAttribute('aria-label', translation);
    });

    // Update mobile history labels for stacked table
    document.querySelectorAll('.history-table tbody td[data-label-key]').forEach(td => {
        const key = td.getAttribute('data-label-key');
        const translation = getTranslation(key);
        td.setAttribute('data-label', translation);
    });
    
    // Update title
    const titleKey = document.querySelector('title').getAttribute('data-translate');
    if (titleKey) {
        document.title = getTranslation(titleKey);
    }
    
    // Update meta description
    const metaDesc = document.querySelector('meta[name="description"]');
    if (metaDesc && metaDesc.getAttribute('data-translate')) {
        metaDesc.content = getTranslation(metaDesc.getAttribute('data-translate'));
    }
}

// Initialize language on page load
function initializeLanguage() {
    // Check for saved language preference or browser language
    const savedLang = localStorage.getItem('preferred-language');
    const browserLang = navigator.language.substr(0, 2);
    
    if (savedLang && translations[savedLang]) {
        currentLanguage = savedLang;
    } else if (browserLang === 'ro') {
        currentLanguage = 'ro';
    } else {
        currentLanguage = 'en';
    }
    
    updateHtmlLang();
    updatePageContent();
}

// Export for use in other files
if (typeof module !== 'undefined' && module.exports) {
    module.exports = { translations, setLanguage, getCurrentLanguage, getTranslation, initializeLanguage };
}

// Ensure functions are available globally in browser
if (typeof window !== 'undefined') {
    window.setLanguage = setLanguage;
    window.getCurrentLanguage = getCurrentLanguage;
    window.getTranslation = getTranslation;
    window.initializeLanguage = initializeLanguage;
}
